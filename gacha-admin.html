<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚¬ãƒãƒ£ç®¡ç†ãƒšãƒ¼ã‚¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: "Noto Serif JP", serif;
  background: #fff5fb;
  margin: 0;
  padding: 20px;
}

/* ===== ã‚¿ãƒ– ===== */
.tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.tab-btn {
  padding: 10px 16px;
  border-radius: 10px;
  border: 1px solid #ff9ac9;
  background: #fff;
  cursor: pointer;
}

.tab-btn.active {
  background: #ffddf0;
  font-weight: bold;
}

.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

/* ===== å…±é€šUI ===== */
.box {
  background: #ffffff;
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
  border: 1px solid #ffd0e6;
}

button {
  padding: 10px 18px;
  border-radius: 12px;
  border: none;
  background: #ff7db7;
  color: #fff;
  font-size: 16px;
  cursor: pointer;
}

textarea, input {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  margin-bottom: 12px;
  border-radius: 10px;
  border: 1px solid #ccc;
}

/* çµæœæ¼”å‡º */
#result {
  margin-top: 20px;
  padding: 20px;
  border-radius: 16px;
  background: linear-gradient(135deg, #ffe6f3, #fff);
  font-size: 20px;
  font-weight: bold;
  text-align: center;
}
</style>
</head>

<body>

<h1>ğŸ€ ã‚¬ãƒãƒ£ç®¡ç†ãƒšãƒ¼ã‚¸</h1>

<div class="tabs">
  <button class="tab-btn active" onclick="openTab('play')">ã‚¬ãƒãƒ£ã‚’å›ã™</button>
  <button class="tab-btn" onclick="openTab('admin')">ã‚¬ãƒãƒ£è¿½åŠ ãƒ»ç·¨é›†</button>
</div>

<!-- ================= ã‚¬ãƒãƒ£ã‚’å›ã™ ================= -->
<div id="play" class="tab-content active">
  <div class="box">
    <h2>ğŸ² ãŠé¡Œã‚¬ãƒãƒ£</h2>

    <input id="input1" placeholder="å…¥åŠ›1ï¼ˆä»»æ„ï¼‰">
    <input id="input2" placeholder="å…¥åŠ›2ï¼ˆä»»æ„ï¼‰">

    <button onclick="spin()">ã‚¬ãƒãƒ£ã‚’ã¾ã‚ã™</button>

    <div id="result">çµæœãŒã“ã“ã«å‡ºã¾ã™</div>
    <p>ç·å›æ•°ï¼š<span id="count">0</span> å›</p>
  </div>
</div>

<!-- ================= ç®¡ç†è€… ================= -->
<div id="admin" class="tab-content">
  <div class="box">
    <h2>ğŸ”’ ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³</h2>
    <input type="password" id="adminPass" placeholder="ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
    <button onclick="login()">ãƒ­ã‚°ã‚¤ãƒ³</button>
  </div>

  <div class="box" id="editor" style="display:none;">
    <h2>ğŸ›  ã‚¬ãƒãƒ£å†…å®¹ç·¨é›†</h2>
    <p>1è¡Œï¼1ãŠé¡Œ</p>
    <textarea id="gachaData" rows="10"></textarea>
    <button onclick="saveData()">ä¿å­˜</button>
  </div>
</div>

<script>
/* ===== è¨­å®š ===== */
const ADMIN_PASSWORD = "IEIRI_ADMIN_405"; // â†ã“ã“ã‚’å¤‰ãˆã‚Œã°OK

/* ===== ãƒ‡ãƒ¼ã‚¿ ===== */
let gachaList = JSON.parse(localStorage.getItem("gachaList")) || [
  "[input1]ã¨[input2]ãŒå¶ç„¶åŒã˜ã“ã¨ã‚’è€ƒãˆã¦ã„ãŸ",
  "[input1]ãŒçœ ã‚Œãšã€[input2]ãŒãã£ã¨å£°ã‚’ã‹ã‘ã‚‹",
  "é™ã‹ãªå¤œã€[input1]ã¨[input2]ã¯ä¸¦ã‚“ã§åº§ã£ã¦ã„ãŸ"
];

let count = Number(localStorage.getItem("count")) || 0;

/* ===== ã‚¿ãƒ– ===== */
function openTab(id) {
  document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
  document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
  event.target.classList.add("active");
  document.getElementById(id).classList.add("active");
}

/* ===== ã‚¬ãƒãƒ£ ===== */
function spin() {
  const i1 = document.getElementById("input1").value || "A";
  const i2 = document.getElementById("input2").value || "B";
  const text = gachaList[Math.floor(Math.random() * gachaList.length)]
    .replaceAll("[input1]", i1)
    .replaceAll("[input2]", i2);

  document.getElementById("result").textContent = text;

  count++;
  localStorage.setItem("count", count);
  document.getElementById("count").textContent = count;
}

/* ===== ç®¡ç†è€… ===== */
function login() {
  if (document.getElementById("adminPass").value === ADMIN_PASSWORD) {
    document.getElementById("editor").style.display = "block";
    document.getElementById("gachaData").value = gachaList.join("\n");
  } else {
    alert("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™");
  }
}

function saveData() {
  gachaList = document.getElementById("gachaData").value.split("\n").filter(Boolean);
  localStorage.setItem("gachaList", JSON.stringify(gachaList));
  alert("ä¿å­˜ã—ã¾ã—ãŸï¼");
}

/* åˆæœŸè¡¨ç¤º */
document.getElementById("count").textContent = count;
</script>

</body>
</html>
