<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ãƒãƒ£ï½œã‚­ãƒ©ã‚­ãƒ©å‰µä½œäººç”Ÿ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@700&display=swap" rel="stylesheet">

<style>
body {
  font-family: "Noto Serif JP", serif;
  background: #fff0f7;
  margin: 0;
  padding: 20px;
  color: #a3005a;
}

h1 {
  text-align: center;
  color: #d6007f;
  margin-bottom: 30px;
}

.section {
  background: #ffffff;
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 30px;
  box-shadow: 0 4px 10px rgba(255, 150, 200, 0.3);
}

label {
  display: block;
  margin-top: 15px;
  font-weight: bold;
}

select, input, textarea {
  width: 100%;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid #ff9ac9;
  margin-top: 5px;
  font-size: 16px;
}

textarea {
  min-height: 120px;
}

button {
  margin-top: 20px;
  padding: 12px 30px;
  font-size: 18px;
  background: #ff77b7;
  color: #fff;
  border: none;
  border-radius: 20px;
  cursor: pointer;
}

button:hover {
  background: #ff4fa3;
}

#result-card {
  background: linear-gradient(135deg, #ffe0f0, #fff);
  border: 2px solid #ff9ac9;
  border-radius: 20px;
  padding: 25px;
  margin-top: 20px;
  font-size: 20px;
  line-height: 1.8;
  box-shadow: inset 0 0 20px rgba(255, 150, 200, 0.4);
}

.counter {
  text-align: right;
  font-size: 14px;
  color: #c7006b;
}
</style>
</head>

<body>

<h1>ğŸ€ ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ãƒãƒ£ ğŸ€</h1>

<div class="section">
  <label>å…¥åŠ›æ¬„ã®æ•°</label>
  <select id="inputMode">
    <option value="0">å…¥åŠ›ãªã—</option>
    <option value="1">1ã¤</option>
    <option value="2">2ã¤</option>
  </select>

  <div id="inputs"></div>
</div>

<div class="section">
  <label>ãƒ©ãƒ³ãƒ€ãƒ ã‚¹ãƒ­ãƒƒãƒˆï¼ˆ1è¡Œï¼1ãŠé¡Œï¼‰</label>
  <textarea id="slotData">
[input1]ãŒé›¨ã®æ—¥ã«å°‘ã—ã ã‘å¼±éŸ³ã‚’åã„ãŸ
[input1]ã¨[input2]ãŒå¸°ã‚Šé“ã§åŒæ™‚ã«åŒã˜ã“ã¨ã‚’è€ƒãˆã¦ã„ãŸ
[input1]ãŒ[input2]ã®å¯é¡”ã‚’è¦‹ã¦å°‘ã—å¾®ç¬‘ã‚€
[input1]ã¨[input2]ãŒä½•æ°—ãªã„æ—¥å¸¸ã«å¹¸ã›ã‚’æ„Ÿã˜ã‚‹
  </textarea>

  <button onclick="drawGacha()">ã‚¬ãƒãƒ£ã‚’ã¾ã‚ã™</button>

  <div class="counter">
    ç·å›æ•°ï¼š<span id="count">0</span> å›
  </div>
</div>

<div class="section">
  <h2>ğŸ´ ã‚¬ãƒãƒ£çµæœ ğŸ´</h2>
  <div id="result-card">ã¾ã ã‚¬ãƒãƒ£ã¯å›ã•ã‚Œã¦ã„ã¾ã›ã‚“</div>
</div>

<script>
const countEl = document.getElementById("count");
let totalCount = localStorage.getItem("gachaCount") || 0;
countEl.textContent = totalCount;

document.getElementById("inputMode").addEventListener("change", updateInputs);

function updateInputs() {
  const mode = document.getElementById("inputMode").value;
  const area = document.getElementById("inputs");
  area.innerHTML = "";

  if (mode >= 1) {
    area.innerHTML += `
      <label>input1</label>
      <input id="input1" placeholder="åå‰ãƒ»å‘¼ã³æ–¹ãªã©">
    `;
  }
  if (mode >= 2) {
    area.innerHTML += `
      <label>input2</label>
      <input id="input2" placeholder="ã‚‚ã†ä¸€äººåˆ†">
    `;
  }
}

function drawGacha() {
  const raw = document.getElementById("slotData").value.trim().split("\n");
  if (raw.length === 0) return;

  const result = raw[Math.floor(Math.random() * raw.length)];

  const i1 = document.getElementById("input1")?.value || "";
  const i2 = document.getElementById("input2")?.value || "";

  let text = result
    .replaceAll("[input1]", i1)
    .replaceAll("[input2]", i2);

  document.getElementById("result-card").textContent = text;

  totalCount++;
  localStorage.setItem("gachaCount", totalCount);
  countEl.textContent = totalCount;
}

updateInputs();
</script>

</body>
</html>
